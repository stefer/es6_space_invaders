<!DOCTYPE html>
<html>
<head>
    <title>Game</title>
    <style>
        canvas {background: #eeeeee; display:block; outline: auto;}
    </style>
</head>
<body>
    <canvas id="canvas" width="480" height="320"></canvas>
</body>

<script src="js/actors.js"></script>
<script src="js/util.js"></script>
<script src="js/game.js"></script>

<script>
    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext("2d");

    const game = new Game(ctx);

    document.onkeydown = e => game.onkeydown(e);
    document.onkeyup = e => game.onkeyup(e);

    function step(timestamp) {
        game.update(timestamp);
        game.redraw(timestamp);
        if (!game.gameOver()) {
            window.requestAnimationFrame(step);
        }
    }

    window.requestAnimationFrame(step);

</script>

</html>